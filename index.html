<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Gods Rank Awakening</title>
  
  <!-- âœ… FAVICON -->
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="assets/apple-touch-icon.png">
  
  <!-- âœ… META TAGS FOR SOCIAL SHARING -->
  <meta name="description" content="In 2120 CE, hell portals rip openâ€”Aditya defies Asura King Kanasura. Dive into the multiverse war.">
  <meta name="keywords" content="web novel, fantasy, action, gods rank awakening, multiverse">
  <meta name="author" content="Thunder2700c">
  
  <!-- Open Graph (Facebook, Discord, LinkedIn) -->
  <meta property="og:title" content="The Gods Rank Awakening">
  <meta property="og:description" content="In 2120 CE, hell portals rip openâ€”Aditya defies Asura King Kanasura in crimson ruins. Ranks clash, destinies ignite.">
  <meta property="og:image" content="https://thunder2700c.github.io/TheGodsRankAwakening/assets/images/og-cover.jpeg">
  <meta property="og:url" content="https://thunder2700c.github.io/TheGodsRankAwakening/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="The Gods Rank Awakening">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Thunder2700c">
  <meta name="twitter:title" content="The Gods Rank Awakening">
  <meta name="twitter:description" content="Epic web novel. Hell portals rip open. Ranks clash. Read free.">
  <meta name="twitter:image" content="https://thunder2700c.github.io/TheGodsRankAwakening/assets/images/og-cover.jpeg">
  
  <!-- Theme Color (for mobile browsers) -->
  <meta name="theme-color" content="#ff6b6b">
  
  <!-- âœ… CSS (loader.css REMOVED) -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/loader.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
  
<body class="homepage">

  <!-- âœ… AUDIO ELEMENT (hidden) -->
<audio id="themeAudio" loop preload="auto">
  <source src="assets/audio/theme-song.mp3" type="audio/mpeg">
</audio>

<!-- âœ… MUSIC PROMPT MODAL -->
<div class="music-modal" id="musicModal">
  <div class="music-modal-content liquid-glass">
    <div class="music-icon">ðŸŽµ</div>
    <h2 class="music-title">Experience the Full Journey?</h2>
    <p class="music-subtitle">Enable epic theme music for immersion</p>
    
    <div class="music-buttons">
      <button class="music-btn music-yes" id="musicYes">
        <i class="fa-solid fa-volume-high"></i>
        Yes, Play
      </button>
      <button class="music-btn music-no" id="musicNo">
        <i class="fa-solid fa-volume-xmark"></i>
        No Thanks
      </button>
    </div>
    
    <small class="music-hint">You can toggle this anytime</small>
  </div>
</div>

<!-- âœ… FLOATING MUSIC TOGGLE (appears after choice) -->
<button class="music-toggle" id="musicToggle" title="Toggle Music">
  <i class="fa-solid fa-volume-xmark" id="musicToggleIcon"></i>
</button>

   <!-- âœ… LOADER -->
  <div class="loader-wrapper" id="loaderWrapper">
    <h1 class="loader-counter">0</h1>
    <div class="loader-overlay">
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
      <div class="loader-bar"></div>
    </div>
  </div>

  <!-- âœ… NEW: Logo Reveal -->
    <div class="loader-logo-reveal" id="logoReveal">
      <div class="logo-half logo-left">
        <span>TG</span>
      </div>
      <div class="logo-divider"></div>
      <div class="logo-half logo-right">
        <span>RA</span>
      </div>
    </div>
    
</div>
  
  <!-- âœ… DARK MODE TOGGLE -->
  <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
    <i class="fa-solid fa-moon" id="themeIcon"></i>
  </button>

  <section class="hero-container">
    
    <div class="hero-image-wrapper liquid-glass">
        <img src="assets/images/jonathan.jpeg" alt="Jonathan Awakening Teaser â€“ JoJo Vibes" class="hero-image">
    </div>

    <h1 class="hero-title">Gods Rank<br>Awakening</h1>
    <p class="hero-description">
      In 2120 CE, hell portals rip openâ€”Aditya defies Asura King Kanasura in crimson ruins. Ranks clash, destinies ignite. Dive into the multiverse war.
    </p>

    <div class="search-wrapper">
      <div class="glass-search liquid-glass">
        <i class="fa-solid fa-search" style="opacity: 0.5;"></i>
        <input type="text" id="searchChapters" placeholder="Search chapters...">
      </div>
    </div>
  </section>

  <!-- âœ… CONTINUE READING SECTION (Shows if user has progress) -->
  <section class="continue-section" id="continueSection" style="display: none;">
    <div class="continue-card liquid-glass">
      <div class="continue-icon">ðŸ“–</div>
      <div class="continue-info">
        <small>Continue Reading</small>
        <h3 id="continueTitle">Chapter Title</h3>
      </div>
      <a href="#" id="continueLink" class="continue-btn">
        Resume <i class="fa-solid fa-arrow-right"></i>
      </a>
    </div>
  </section>

  <!-- MAIN CAST SECTION -->
  <section class="cast-section">
    <a href="https://thunder2700c.github.io/TGRA-Character-Introduction/" class="cast-card liquid-glass">
      <div class="cast-image-wrapper">
        <img src="assets/images/aditya-cover.jpeg" alt="Main Cast - The Squad" class="cast-image">
        <div class="cast-overlay"></div>
      </div>
      <div class="cast-info">
        <small class="cast-tag">Explore</small>
        <h2 class="cast-title">The Main Cast</h2>
        <p class="cast-subtitle">9 warriors. One destiny.</p>
        <span class="cast-cta">
          Tap to meet them <i class="fa-solid fa-arrow-right"></i>
        </span>
      </div>
    </a>
  </section>

  <main class="chapters-grid" id="chaptersGrid">
  </main>

  <nav class="floating-dock" id="floatingDock">
    <a href="index.html" class="dock-icon active" title="Home"><i class="fa-solid fa-house"></i></a>
    <a href="#" class="dock-icon" title="Latest" id="latest-link"><i class="fa-solid fa-bolt"></i></a>
    <a href="#" class="dock-icon" title="Library" id="library-link"><i class="fa-solid fa-book-open"></i></a>
    <a href="https://thunder2700c.github.io/TGRA-Character-Introduction/" class="dock-icon" title="Cast"><i class="fa-solid fa-users"></i></a>
    <a href="https://x.com/Thunder2700c" target="_blank" class="dock-icon" title="Social"><i class="fa-brands fa-x-twitter"></i></a>
  </nav>

  <!-- GSAP (Homepage animations only) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="scripts/animations.js"></script>
  <!-- MAIN JS -->
  <script src="scripts/main.js"></script>
  <script src="scripts/loader.js"></script>

  <script>
  // ===================================================
  // LOADER ANIMATION - TGRA Epic Intro + Music
  // ===================================================

  // Audio setup
  const themeAudio = document.getElementById('themeAudio');
  const musicModal = document.getElementById('musicModal');
  const musicToggle = document.getElementById('musicToggle');
  const musicToggleIcon = document.getElementById('musicToggleIcon');
  let musicEnabled = false;

  // Counter animation
  function startLoader() {
    let counterElement = document.querySelector(".loader-counter");
    let currentValue = 0;

    function updateCounter() {
      if (currentValue === 100) return;

      currentValue += Math.floor(Math.random() * 10) + 1;
      if (currentValue > 100) currentValue = 100;

      counterElement.textContent = currentValue;

      let delay = Math.floor(Math.random() * 200) + 50;
      setTimeout(updateCounter, delay);
    }

    updateCounter();
  }

  startLoader();

  // ===================================================
  // GSAP TIMELINE
  // ===================================================

  const loaderTimeline = gsap.timeline();

  // Step 1: Fade out counter
  loaderTimeline.to(".loader-counter", {
    duration: 0.5,
    opacity: 0,
    ease: "power2.out"
  }, 3.5);

  // Step 2: Slide bars up
  loaderTimeline.to(".loader-bar", {
    duration: 1,
    y: "-100%",
    stagger: {
      amount: 0.4,
      from: "edges"
    },
    ease: "power4.inOut"
  }, 3.5);

  // Step 3: Show logo reveal
  loaderTimeline.to(".loader-logo-reveal", {
    duration: 0.5,
    opacity: 1,
    ease: "power2.inOut"
  }, 4.3);

  // Step 4: Divider grows
  loaderTimeline.to(".logo-divider", {
    duration: 0.8,
    height: "60%",
    ease: "power4.out"
  }, 4.5);

  // Step 5: Letters animate in
  loaderTimeline.from(".logo-left span", {
    duration: 0.8,
    x: 100,
    opacity: 0,
    ease: "power4.out"
  }, 4.6);

  loaderTimeline.from(".logo-right span", {
    duration: 0.8,
    x: -100,
    opacity: 0,
    ease: "power4.out"
  }, 4.6);

  // Step 6: Divider shrinks
  loaderTimeline.to(".logo-divider", {
    duration: 0.6,
    height: "0%",
    ease: "power4.in"
  }, 5.8);

  // Step 7: Split TG | RA
  loaderTimeline.to(".logo-left", {
    duration: 1,
    x: "-100%",
    ease: "power4.inOut"
  }, 6.2);

  loaderTimeline.to(".logo-right", {
    duration: 1,
    x: "100%",
    ease: "power4.inOut"
  }, 6.2);

  // Step 8: Fade out logo reveal
  loaderTimeline.to(".loader-logo-reveal", {
    duration: 0.5,
    opacity: 0,
    ease: "power2.inOut"
  }, 6.8);

  // Step 9: Show music modal
  loaderTimeline.call(() => {
    musicModal.classList.add('active');
  }, null, 7.2);

  // ===================================================
  // MUSIC MODAL HANDLERS
  // ===================================================

  function proceedToSite() {
    // Hide modal
    musicModal.classList.remove('active');
    
    // Show music toggle button
    setTimeout(() => {
      musicToggle.classList.add('visible');
    }, 500);

    // Remove loader
    setTimeout(() => {
      document.getElementById("loaderWrapper").remove();
    }, 600);

    // Animate main content
    gsap.from(".hero-container", {
      duration: 1.2,
      y: 80,
      opacity: 0,
      ease: "power4.out",
      delay: 0.3
    });

    gsap.from(".floating-dock", {
      duration: 1,
      y: 50,
      opacity: 0,
      ease: "power4.out",
      delay: 0.5
    });

    gsap.from(".theme-toggle", {
      duration: 0.8,
      scale: 0,
      opacity: 0,
      ease: "back.out(1.7)",
      delay: 0.7
    });
  }

  // YES - Play music
  document.getElementById('musicYes').addEventListener('click', function() {
    musicEnabled = true;
    themeAudio.volume = 0.5; // Start at 50% volume
    themeAudio.play();
    
    // Update toggle button
    musicToggle.classList.add('playing');
    musicToggleIcon.classList.remove('fa-volume-xmark');
    musicToggleIcon.classList.add('fa-volume-high');
    
    // Save preference
    localStorage.setItem('musicEnabled', 'true');
    
    proceedToSite();
  });

  // NO - Skip music
  document.getElementById('musicNo').addEventListener('click', function() {
    musicEnabled = false;
    localStorage.setItem('musicEnabled', 'false');
    proceedToSite();
  });

  // ===================================================
  // FLOATING MUSIC TOGGLE
  // ===================================================

  musicToggle.addEventListener('click', function() {
    if (musicEnabled) {
      // Turn off
      themeAudio.pause();
      musicEnabled = false;
      musicToggle.classList.remove('playing');
      musicToggleIcon.classList.remove('fa-volume-high');
      musicToggleIcon.classList.add('fa-volume-xmark');
    } else {
      // Turn on
      themeAudio.play();
      musicEnabled = true;
      musicToggle.classList.add('playing');
      musicToggleIcon.classList.remove('fa-volume-xmark');
      musicToggleIcon.classList.add('fa-volume-high');
    }
  });

  // ===================================================
  // KEYBOARD SHORTCUT (M to toggle music)
  // ===================================================

  document.addEventListener('keydown', function(e) {
    if (e.key.toLowerCase() === 'm' && musicToggle.classList.contains('visible')) {
      musicToggle.click();
    }
  });
  </script>
  </body>
</html>

